(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{7607:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/[slug]",function(){return s(327)}])},1116:function(e,n,s){"use strict";s.d(n,{Z:function(){return f}});var t=s(5893),i=s(9008),r=s.n(i),c=s(1664),l=s.n(c),a=s(7294),d=s(2331);s(982);var o=s(2920),h=s(3299),x=s(5746);let u=e=>{let{href:n,children:s,...i}=e;return(0,t.jsx)(l(),{legacyBehavior:!0,href:n,children:(0,t.jsx)("a",{...i,children:s})})};var m=s(1955),j=s(353);function f(e){let{title:n,children:s}=e,{mode:i,colors:c}=(0,j.F)(),{toggleMode:f}=(0,j.F)(),{status:v,data:g}=(0,h.useSession)(),{state:p,dispatch:N}=(0,a.useContext)(d.y),{cart:w}=p,[b,y]=(0,a.useState)(0);(0,a.useEffect)(()=>{y(w.cartItems.reduce((e,n)=>e+n.quantity,0))},[w.cartItems]);let k=()=>{m.Z.remove("cart"),N({type:"CART_RESET"}),(0,h.signOut)({callbackUrl:"/login"})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r(),{children:[(0,t.jsx)("title",{children:n?n+" - Amazona":"Amazona"}),(0,t.jsx)("meta",{name:"description",content:"Ecommerce Website"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsx)(o.Ix,{position:"bottom-center",limit:1}),(0,t.jsxs)("div",{className:"flex min-h-screen flex-col justify-between font-Ozz ".concat(c[i].background," transition-colors duration-300 ease-in-out ").concat(c[i].text),children:[(0,t.jsx)("header",{children:(0,t.jsxs)("nav",{className:"flex h-12 items-center px-4 justify-between shadow-md ".concat(c[i].border),children:[(0,t.jsx)(l(),{legacyBehavior:!0,href:"/",children:(0,t.jsx)("a",{className:"text-lg font-bold  dark:text-[#F64668] dark:hover:text-[#be1d3e]",children:"Amazona"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l(),{legacyBehavior:!0,href:"/cart",children:(0,t.jsxs)("a",{className:"p-2 ".concat(c[i].text),children:["Cart",b>0&&(0,t.jsx)("span",{className:"ml-1 rounded-full bg-red-600 px-2 py-1 text-xs font-bold text-white",children:b})]})}),"loading"===v?"Loading":(null==g?void 0:g.user)?(0,t.jsxs)(x.v,{as:"div",className:"relative inline-block font-bold",children:[(0,t.jsx)(x.v.Button,{className:"text-indigo-500",children:g.user.name}),(0,t.jsxs)(x.v.Items,{className:"absolute right-0 w-56 origin-top-right dark:bg-white dark:text-zinc-800 rounded   shadow-xl ",children:[(0,t.jsx)(x.v.Item,{children:(0,t.jsx)(u,{className:"dropdown-link",href:"/profile",children:"Profile"})}),(0,t.jsx)(x.v.Item,{children:(0,t.jsx)(u,{className:"dropdown-link",href:"/order-history",children:"Order History"})}),(0,t.jsx)(x.v.Item,{children:(0,t.jsx)("a",{className:"dropdown-link",href:"#",onClick:k,children:"Logout"})})]})]}):(0,t.jsx)(l(),{legacyBehavior:!0,href:"/login",children:(0,t.jsx)("a",{className:"p-2 ".concat(c[i].text),children:"Login"})}),(0,t.jsx)("button",{className:"p-2",onClick:f,children:"light"===i?"\uD83C\uDF19":"☀️"})]})]})}),(0,t.jsx)("main",{className:"container m-auto mt-4 px-4",children:s}),(0,t.jsx)("footer",{className:"flex h-10 justify-center items-center shadow-inner",children:(0,t.jsx)("p",{children:"Copyright \xa9 2023 MagnaTech"})})]})]})}},327:function(e,n,s){"use strict";s.r(n),s.d(n,{__N_SSP:function(){return m},default:function(){return j}});var t=s(5893),i=s(6154),r=s(1116),c=s(5675),l=s.n(c),a=s(1664),d=s.n(a),o=s(1163),h=s(7294),x=s(2920),u=s(2331),m=!0;function j(e){let{product:n}=e,s=(0,o.useRouter)(),{state:c,dispatch:a}=(0,h.useContext)(u.y);if(!n)return(0,t.jsx)(r.Z,{title:"Product not found!",children:(0,t.jsx)("div",{children:"Product not found"})});let m=async()=>{let e=c.cart.cartItems.find(e=>e.slug===n.slug),t=e?e.quantity+1:1,{data:r}=await i.Z.get("/api/products/".concat(n._id));if(r.countInStock<t)return x.Am.error("Sorry. Product is out of stock");a({type:"CART_ADD_ITEM",payload:{...n,quantity:t}}),s.push("/cart")};return(0,t.jsxs)(r.Z,{title:n.name,children:[(0,t.jsx)("div",{className:"py-2  ",children:(0,t.jsx)(d(),{href:"/",children:(0,t.jsxs)("button",{className:"btn btn-ghost",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24 ",fill:"currentColor",class:"w-6 h-6",children:(0,t.jsx)("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-4.28 9.22a.75.75 0 000 1.06l3 3a.75.75 0 101.06-1.06l-1.72-1.72h5.69a.75.75 0 000-1.5h-5.69l1.72-1.72a.75.75 0 00-1.06-1.06l-3 3z","clip-rule":"evenodd"})}),"Back"]})})}),(0,t.jsxs)("div",{className:"grid md:grid-cols-4 md:gap-3",children:[(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsx)(l(),{src:n.image,alt:n.name,width:640,height:640,Layout:"responsive"})}),(0,t.jsx)("div",{className:"lg:mt-2 lg:text-2xl font-Pop",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsxs)("h1",{className:"",children:["Name: ",n.name]})}),(0,t.jsxs)("li",{children:["Category: ",n.category]}),(0,t.jsxs)("li",{children:["Brand: ",n.brand]}),(0,t.jsxs)("li",{children:[n.rating," of ",n.numReviews," reviews"]}),(0,t.jsxs)("li",{children:["Description: ",n.description]})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"card p-5 mt-3",children:[(0,t.jsxs)("div",{className:"mb-2 flex justify-between",children:[(0,t.jsx)("div",{children:"Price"}),(0,t.jsxs)("div",{children:["$",n.price]})]}),(0,t.jsxs)("div",{className:"mb-2 flex justify-between",children:[(0,t.jsx)("div",{children:"Status"}),(0,t.jsx)("div",{children:n.countInStock>0?"In Stock":"Unavailable"})]}),(0,t.jsx)("button",{onClick:m,className:"primary-button w-full",children:"Add to cart"})]})})]})]})}}},function(e){e.O(0,[255,154,675,774,888,179],function(){return e(e.s=7607)}),_N_E=e.O()}]);